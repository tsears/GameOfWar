!function(e){function n(t){if(r[t])return r[t].exports;var a=r[t]={exports:{},id:t,loaded:!1};return e[t].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var r={};return n.m=e,n.c=r,n.p="",n(0)}([function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=r(1),i=t(u),o=function e(n,r,t){a(this,e),this._numSuits=n,this._numRanks=r,this._numPlayers=t,this._warGame=new i.default(new Deck(this._numSuits,this._numRanks),this._numPlayers)};n.default=o},function(e,n,r){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}function a(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),i=r(2),o=t(i),s=r(3),c=t(s),f=function(){function e(n,r){if(a(this,e),this._deck=n,this._numPlayers=r,this._players=[],this._deck.initialSize%r!==0)throw new Error("Invalid player/deck combo");for(var t=1;t<=r;++t)this._players.push(new o.default("Player "+t));for(var u=0;this._deck.currentSize>0;){var i=u%r,s=this._deck.deal();this._players[i].addCard(s),++u}}return u(e,[{key:"getPlayer",value:function(e){var n=e-1;return this._players[n]}},{key:"playRound",value:function(){var e=new c.default,n=this._players.map(function(e,n){return n});return this._resolveRound(n,e)}},{key:"_resolveRound",value:function(e,n){for(var r=this,t=e.map(function(e){return r._players[e].revealCard()}),a=0;a<e.length;++a){var u=e[a];n.draws[u]||(n.draws[u]=[]),n.draws[u].push(t[a])}var i=this._findCardWithMaxValue(t),o=t.filter(function(e){return e.rank===i.rank}).length>1;if(o){n.war=!0;for(var s=[],c=0;c<t.length;c++)t[c].rank===i.rank&&s.push(e[c]);return this._resolveRound(s,n)}var f=this._players[e[t.indexOf(i)]];return n.winner=f,n}},{key:"_findCardWithMaxValue",value:function(e){return e.reduce(function(e,n){return n.rank>e.rank?n:e},{rank:0})}},{key:"deck",get:function(){return this._deck}},{key:"players",get:function(){return this._players}}]),e}();n.default=f},function(e,n){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),a=function(){function e(n){r(this,e),this._name=n,this._cards=[]}return t(e,[{key:"addCard",value:function(e){this._cards.push(e)}},{key:"revealCard",value:function(){return this._cards.pop()}},{key:"cardCount",get:function(){return this._cards.length}},{key:"name",get:function(){return this._name}}]),e}();n.default=a},function(e,n){"use strict";function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),a=function(){function e(){r(this,e),this._draws=[],this._war=!1,this._winner=null}return t(e,[{key:"draws",get:function(){return this._draws}},{key:"war",get:function(){return this._war},set:function(e){this._war=e}},{key:"winner",get:function(){return this._winner},set:function(e){this._winner=e}}]),e}();n.default=a}]);
//# sourceMappingURL=war.min.js.map