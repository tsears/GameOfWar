{"version":3,"sources":["webpack:///war.min.js","webpack:///webpack/bootstrap 42b703becf8f1a8290d1","webpack:///./js/war.js","webpack:///./js/WarGame.js","webpack:///./js/Player.js","webpack:///./js/RoundResult.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_WarGame","_WarGame2","War","numSuits","numRanks","numPlayers","this","_numSuits","_numRanks","_numPlayers","_warGame","Deck","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","_Player","_Player2","_RoundResult","_RoundResult2","WarGame","deck","_deck","_players","initialSize","Error","push","j","currentSize","receivingPlayerIndex","card","deal","addCard","player","pIndex","result","indicies","map","_resolveRound","warringPlayers","_this","draw","revealCard","playerIndex","draws","max","_findCardWithMaxValue","atWar","filter","rank","war","warringPlayerIndicies","winner","indexOf","cards","reduce","a","b","get","Player","name","_name","_cards","pop","RoundResult","_draws","_war","_winner","set","v"],"mappings":"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","file":"war.min.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _WarGame = __webpack_require__(1);\n\t\n\tvar _WarGame2 = _interopRequireDefault(_WarGame);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar War = function War(numSuits, numRanks, numPlayers) {\n\t  _classCallCheck(this, War);\n\t\n\t  // I would inject the deck as a dependency, so this class is just going to\n\t  // wrap another class that does....\n\t  this._numSuits = numSuits;\n\t  this._numRanks = numRanks;\n\t  this._numPlayers = numPlayers;\n\t\n\t  this._warGame = new _WarGame2.default(new Deck(this._numSuits, this._numRanks), this._numPlayers);\n\t};\n\t\n\texports.default = War;\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _Player = __webpack_require__(2);\n\t\n\tvar _Player2 = _interopRequireDefault(_Player);\n\t\n\tvar _RoundResult = __webpack_require__(3);\n\t\n\tvar _RoundResult2 = _interopRequireDefault(_RoundResult);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar WarGame = function () {\n\t  function WarGame(deck, numPlayers) {\n\t    _classCallCheck(this, WarGame);\n\t\n\t    this._deck = deck;\n\t    this._numPlayers = numPlayers;\n\t    this._players = [];\n\t\n\t    if (this._deck.initialSize % numPlayers !== 0) {\n\t      // if there is a remainder, then it wasn't evenly divisble...\n\t      throw new Error('Invalid player/deck combo');\n\t    }\n\t\n\t    for (var i = 1; i <= numPlayers; ++i) {\n\t      this._players.push(new _Player2.default('Player ' + i));\n\t    }\n\t\n\t    var j = 0;\n\t    while (this._deck.currentSize > 0) {\n\t      var receivingPlayerIndex = j % numPlayers;\n\t      var card = this._deck.deal();\n\t      this._players[receivingPlayerIndex].addCard(card);\n\t      ++j;\n\t    }\n\t  }\n\t\n\t  _createClass(WarGame, [{\n\t    key: 'getPlayer',\n\t    value: function getPlayer(player) {\n\t      // players are not zero indexed... didn't want to do that jujitsu from the\n\t      // consumer.\n\t      var pIndex = player - 1;\n\t      return this._players[pIndex];\n\t    }\n\t  }, {\n\t    key: 'playRound',\n\t    value: function playRound() {\n\t      var result = new _RoundResult2.default();\n\t      var indicies = this._players.map(function (p, i) {\n\t        return i;\n\t      });\n\t\n\t      return this._resolveRound(indicies, result);\n\t    }\n\t\n\t    /*****************************************************************************\n\t    * _resolveRound\n\t    *\n\t    * This is where all the magic happens.  We will recursively determine the outcome\n\t    * of the round.  If the draws result in a war, we will keep calling this function\n\t    * until all wars are resolved.  A complete record of the draws will be returned\n\t    * along with the winner\n\t    *****************************************************************************/\n\t\n\t  }, {\n\t    key: '_resolveRound',\n\t    value: function _resolveRound(warringPlayers, result) {\n\t      var _this = this;\n\t\n\t      var draw = warringPlayers.map(function (i) {\n\t        return _this._players[i].revealCard();\n\t      });\n\t\n\t      // for .. of was giving babel fits... didn't want to run it down now.\n\t      for (var _j = 0; _j < warringPlayers.length; ++_j) {\n\t        var playerIndex = warringPlayers[_j];\n\t\n\t        if (!result.draws[playerIndex]) {\n\t          result.draws[playerIndex] = [];\n\t        }\n\t        result.draws[playerIndex].push(draw[_j]);\n\t      }\n\t\n\t      var max = this._findCardWithMaxValue(draw);\n\t      var atWar = draw.filter(function (c) {\n\t        return c.rank === max.rank;\n\t      }).length > 1;\n\t\n\t      if (atWar) {\n\t        result.war = true;\n\t\n\t        var warringPlayerIndicies = [];\n\t        for (var i = 0; i < draw.length; i++) {\n\t          if (draw[i].rank === max.rank) {\n\t            warringPlayerIndicies.push(warringPlayers[i]);\n\t          }\n\t        }\n\t\n\t        // recurse\n\t        return this._resolveRound(warringPlayerIndicies, result);\n\t      } else {\n\t        // break recursion\n\t        var winner = this._players[warringPlayers[draw.indexOf(max)]]; //object equality....\n\t        result.winner = winner;\n\t        return result;\n\t      }\n\t    }\n\t  }, {\n\t    key: '_findCardWithMaxValue',\n\t    value: function _findCardWithMaxValue(cards) {\n\t      return cards.reduce(function (a, b) {\n\t        // a is the value of the element we're looking at,\n\t        // b is the value of the previous max\n\t        // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Parameters\n\t        return b.rank > a.rank ? b : a;\n\t      }, { rank: 0 });\n\t    }\n\t  }, {\n\t    key: 'deck',\n\t    get: function get() {\n\t      return this._deck;\n\t    }\n\t  }, {\n\t    key: 'players',\n\t    get: function get() {\n\t      return this._players;\n\t    }\n\t  }]);\n\t\n\t  return WarGame;\n\t}();\n\t\n\texports.default = WarGame;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Player = function () {\n\t  function Player(name) {\n\t    _classCallCheck(this, Player);\n\t\n\t    this._name = name;\n\t    this._cards = [];\n\t  }\n\t\n\t  _createClass(Player, [{\n\t    key: \"addCard\",\n\t    value: function addCard(card) {\n\t      this._cards.push(card);\n\t    }\n\t  }, {\n\t    key: \"revealCard\",\n\t    value: function revealCard() {\n\t      return this._cards.pop();\n\t    }\n\t  }, {\n\t    key: \"cardCount\",\n\t    get: function get() {\n\t      return this._cards.length;\n\t    }\n\t  }, {\n\t    key: \"name\",\n\t    get: function get() {\n\t      return this._name;\n\t    }\n\t  }]);\n\t\n\t  return Player;\n\t}();\n\t\n\texports.default = Player;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar RoundResult = function () {\n\t  function RoundResult() {\n\t    _classCallCheck(this, RoundResult);\n\t\n\t    this._draws = [];\n\t    this._war = false;\n\t    this._winner = null;\n\t  }\n\t\n\t  _createClass(RoundResult, [{\n\t    key: \"draws\",\n\t    get: function get() {\n\t      return this._draws;\n\t    }\n\t  }, {\n\t    key: \"war\",\n\t    get: function get() {\n\t      return this._war;\n\t    },\n\t    set: function set(v) {\n\t      this._war = v;\n\t    }\n\t  }, {\n\t    key: \"winner\",\n\t    get: function get() {\n\t      return this._winner;\n\t    },\n\t    set: function set(v) {\n\t      this._winner = v;\n\t    }\n\t  }]);\n\t\n\t  return RoundResult;\n\t}();\n\t\n\texports.default = RoundResult;\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// war.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 42b703becf8f1a8290d1","import WarGame from './WarGame';\n\nexport default class War {\n  constructor(numSuits, numRanks, numPlayers) {\n    // I would inject the deck as a dependency, so this class is just going to\n    // wrap another class that does....\n    this._numSuits = numSuits;\n    this._numRanks = numRanks;\n    this._numPlayers = numPlayers;\n\n    this._warGame = new WarGame(new Deck(this._numSuits, this._numRanks), this._numPlayers);\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/war.js","import Player from './Player';\nimport RoundResult from './RoundResult';\n\nexport default class WarGame {\n  constructor(deck, numPlayers) {\n    this._deck = deck;\n    this._numPlayers = numPlayers;\n    this._players = [];\n\n    if (this._deck.initialSize % numPlayers !== 0 ) {\n      // if there is a remainder, then it wasn't evenly divisble...\n      throw new Error('Invalid player/deck combo');\n    }\n\n    for (let i = 1; i <= numPlayers; ++i) {\n      this._players.push(new Player(`Player ${i}`));\n    }\n\n    let j = 0;\n    while(this._deck.currentSize > 0) {\n      let receivingPlayerIndex = j % numPlayers;\n      let card = this._deck.deal();\n      this._players[receivingPlayerIndex].addCard(card);\n      ++j;\n    }\n  }\n\n  get deck() { return this._deck; }\n  get players() { return this._players; }\n\n  getPlayer(player) {\n    // players are not zero indexed... didn't want to do that jujitsu from the\n    // consumer.\n    const pIndex = player - 1;\n    return this._players[pIndex];\n  }\n\n  playRound() {\n    const result = new RoundResult();\n    const indicies = this._players.map((p, i) => { return i; });\n\n    return this._resolveRound(indicies, result);\n  }\n\n\n  /*****************************************************************************\n  * _resolveRound\n  *\n  * This is where all the magic happens.  We will recursively determine the outcome\n  * of the round.  If the draws result in a war, we will keep calling this function\n  * until all wars are resolved.  A complete record of the draws will be returned\n  * along with the winner\n  *****************************************************************************/\n\n  _resolveRound(warringPlayers, result) {\n    const draw = warringPlayers.map(i => {\n      return this._players[i].revealCard();\n    });\n\n    // for .. of was giving babel fits... didn't want to run it down now.\n    for(let j = 0; j < warringPlayers.length; ++j) {\n      const playerIndex = warringPlayers[j];\n\n      if (!result.draws[playerIndex]) { result.draws[playerIndex] = []; }\n      result.draws[playerIndex].push(draw[j]);\n    }\n\n    const max = this._findCardWithMaxValue(draw);\n    const atWar = draw.filter(c => c.rank === max.rank).length > 1;\n\n    if (atWar) {\n      result.war = true;\n\n      const warringPlayerIndicies = [];\n      for (let i = 0; i < draw.length; i++) {\n        if (draw[i].rank === max.rank) {\n          warringPlayerIndicies.push(warringPlayers[i]);\n        }\n      }\n\n      // recurse\n      return this._resolveRound(warringPlayerIndicies, result);\n    } else {\n      // break recursion\n      let winner = this._players[warringPlayers[draw.indexOf(max)]]; //object equality....\n      result.winner = winner;\n      return result;\n    }\n  }\n\n  _findCardWithMaxValue(cards) {\n    return cards.reduce((a, b) => {\n      // a is the value of the element we're looking at,\n      // b is the value of the previous max\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Parameters\n      return b.rank > a.rank ? b : a;\n    }, {rank: 0});\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/WarGame.js","export default class Player {\n  constructor(name) {\n    this._name = name;\n    this._cards = [];\n  }\n\n  get cardCount() { return this._cards.length; }\n  get name() { return this._name; }\n\n  addCard(card) {\n    this._cards.push(card);\n  }\n\n  revealCard() {\n    return this._cards.pop();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/Player.js","export default class RoundResult {\n  constructor() {\n    this._draws = [];\n    this._war = false;\n    this._winner = null;\n  }\n\n  get draws() { return this._draws; }\n\n  get war() { return this._war; }\n  set war(v) { this._war = v; }\n\n  get winner() { return this._winner; }\n  set winner(v) { this._winner = v; }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./js/RoundResult.js"],"sourceRoot":""}